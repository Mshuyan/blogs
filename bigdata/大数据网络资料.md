# 震惊！Selenium分手PhantomJS

## centos7 安装 Headless chrome + Selenium + ChromeDriver
* https://blog.csdn.net/zhuyiquan/article/details/79537623
* https://blog.csdn.net/u013849486/article/details/79466359
* https://blog.csdn.net/xds2ml/article/details/52982748
#### /etc/yum.repos.d/google.repo
```c
[root@iZ23psatkqsZ /tmp]# cat /etc/yum.repos.d/google.repo   
[google]
name=Google-x86_64
baseurl=http://dl.google.com/linux/rpm/stable/x86_64
enabled=1
gpgcheck=0
gpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub
[root@iZ23psatkqsZ /tmp]# 
```
#### yum install google-chrome-stable

```c
yum install  \
 ipa-gothic-fonts \
 xorg-x11-fonts-100dpi \
 xorg-x11-fonts-75dpi \
 xorg-x11-utils \
 xorg-x11-fonts-cyrillic \
 xorg-x11-fonts-Type1 \
 xorg-x11-fonts-misc -y
```
#### google-chrome-stable
```c
[root@iZ23psatkqsZ /tmp]# google-chrome-stable -version
Google Chrome 68.0.3440.106 
[root@iZ23psatkqsZ /tmp]# 
解决之。再次运行 
google-chrome-stable --no-sandbox --headless --disable-gpu --screenshot https://www.suning.com/。访问成功，生成截图。 
```
# https://sites.google.com/a/chromium.org/chromedriver/downloads
```
Latest Release: ChromeDriver 2.41
Supports Chrome v67-69
```
```c
 1140  wget https://chromedriver.storage.googleapis.com/2.41/chromedriver_linux64.zip
 1143  unzip chromedriver_linux64.zip 
 1147  mv chromedriver /usr/bin
```
## 注意要在 非root用户下运行
```python
[root@iZ23psatkqsZ /tmp]# cat ee.py
# -*- coding:utf-8 -*-
from selenium import webdriver
from pyvirtualdisplay import Display
 
display = Display(visible=0, size=(800,600))
display.start()
driver = webdriver.Chrome("chromedriver")
driver.get("http://www.baidu.com")
print (driver.page_source)
driver.quit()
display.stop()
[root@iZ23psatkqsZ /tmp]# 
```
## [rabbit@iZ23psatkqsZ /tmp]$ python3 ee.py > baidu.html

```python
[rabbit@iZ23psatkqsZ /tmp]$ python cc.py
习近平对首个“中国医师节”作出重要指示
[rabbit@iZ23psatkqsZ /tmp]$ cat cc.py
# coding=utf-8
from selenium import webdriver
from selenium.webdriver.chrome.options import Options

url="http://news.163.com/"
chrome_options = Options()
# specify headless mode
chrome_options.add_argument("--headless")
browser = webdriver.Chrome(chrome_options=chrome_options)
browser.set_page_load_timeout(300)
browser.set_script_timeout(300)
browser.get(url)
title=browser.find_elements_by_xpath('//div[@id="js_top_news"]/h2/a')
print (title[0].get_attribute('innerHTML'))
browser.quit()
[rabbit@iZ23psatkqsZ /tmp]$ 
```
## 使用slenium+chromedriver实现无敌爬虫
* https://blog.csdn.net/u010986776/article/details/79266448?from=singlemessage


### CentOS 7.x环境下搭建: Headless chrome + Selenium + ChromeDriver 实现自动化测试
* https://blog.csdn.net/zhuyiquan/article/details/79537623

### install phantomjs
* http://phantomjs.org/quick-start.html
``` go
  987  cd github/
  988  wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2
  989  ll
  990  bzip2 -d phantomjs-2.1.1-linux-x86_64.tar.bz2
  991  ll
  992  tar xvf phantomjs-2.1.1-linux-x86_64.tar 
  993  ll
  994  mv phantomjs-2.1.1-linux-x86_64 /usr/local/phantomjs
  995  cd /usr/local/phantomjs
  996  ll
  997  cd ./bin
  998  ll
  999  vi /etc/profile
```

### python 爬虫
* https://www.cnblogs.com/zhaof/p/7173094.html
* http://python.jobbole.com/86405/
* http://python.jobbole.com/89164/?utm_source=blog.jobbole.com&utm_medium=relatedPosts
* http://www.cnblogs.com/zhaof/p/7092400.html

### pyspider
##### Pyspider框架 —— Python爬虫实战之爬取 V2EX 网站帖子
* http://developer.51cto.com/art/201611/520688.htm
##### 源码分析
* https://blog.csdn.net/weixin_37947156/article/details/76487954
* http://docs.pyspider.org/en/latest/Quickstart/
* http://www.pyspider.cn/book/.html
* http://www.pyspider.cn/book/pyspider/self.crawl-16.html
##### pyspider的使用
* https://blog.csdn.net/weixin_37947156/article/details/76495144

##### Python3实现抓取javascript动态生成的html网页功能示例 selenium
* https://www.jb51.net/article/121810.htm

##### http://f2er.info/article/29 则个才是终极方案
* https://www.jianshu.com/p/d4c1e9565488
* http://f2er.info/article/29
##### 改百度首页
* https://blog.csdn.net/tuposky/article/details/50531195
